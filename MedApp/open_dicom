def open_dicom():
    image_path = 'D:/Desktop/снимок/DICOMOBJ/1'
    ds = dicom.read_file(image_path)
    file = ds.pixel_array

    #print dicom
    # plt.imshow(file, cmap=plt.cm.gray)
    # plt.show()

    # save as jpg
    new_image = file.astype(float)
    scaled_image = (np.maximum(new_image, 0) / new_image.max()) * 255.0
    scaled_image = np.uint8(scaled_image)
    final_image = Image.fromarray(scaled_image)
    # final_image.save('D:/Desktop/my_knee.jpg')

    im = 'D:/Desktop/my_knee.jpg'
    img = image.load_img(im, target_size=(224, 224), grayscale=True)
    img_arr = image.img_to_array(img)
    img_arr = np.expand_dims(img_arr, axis=0)
    pred = model.predict(img_arr)

    # predict image
    predicted = np.argmax(pred, axis=1)
    labels = (train_generator.class_indices)
    labels = dict((v, k) for k, v in labels.items())
    predictions = [labels[k] for k in predicted]

    plt.imshow(plt.imread(im))
    plt.title(f"Predicted: {predictions[0]}")
    plt.show()

    return predictions[0]